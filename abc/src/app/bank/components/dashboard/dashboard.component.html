<main class="ms-2">
    <div class="page-header pt-3">
        <h2>Dashboard</h2>
    </div>
    <p class="lead">{{role}}</p>
    <hr>


        <div class="bg-white text-center justify-items-center ">
            <ul class="nav nav-tabs " id="myTabs" role="tablist">
              <li class="nav-item" role="presentation">
                <button class="nav-link  bg-info me-1 text-dark" id="transaction-tab" data-bs-toggle="tab" data-bs-target="#Transactions" type="button" role="tab" aria-controls="Transactions"aria-selected="true">Transactions</button>
              </li>
              <li class="nav-item" role="presentation">
                <button class="nav-link bg-info me-1 text-dark" id="accounts-tab" data-bs-toggle="tab" data-bs-target="#Accounts" type="button" role="tab" aria-controls="Accounts"aria-selected="true">Accounts</button>
              </li>
              <li class="nav-item" role="presentation" *ngIf="this.role==='ADMIN'">
                <button class="nav-link bg-info me-1 text-dark" id="users-tab" data-bs-toggle="tab" data-bs-target="#Users" type="button" role="tab" aria-controls="Users"aria-selected="true">Users</button>
              </li>
              <li class="nav-item" role="presentation">
                <button class="nav-link  bg-info text-dark" id="loans-tab" data-bs-toggle="tab" data-bs-target="#Loans" type="button" role="tab" aria-controls="Loans"aria-selected="true">Loans</button>
              </li>
            </ul>
          </div>
        

          <div class="tab-content " id="myTabContent">
            <div class="tab-pane fade show" id="Transactions" role="tabpanel" aria-labelledby="transaction-tab">
                <div class="card col-8 mt-3 mx-auto p-2">
                    <div class="card-body">
                        <h5 class="card-title">Transactions</h5>
                        <table class="table ">
        
                            <thead>
        
                                <tr>
        
                                    <th scope="col">Account Id</th>
        
                                    <th scope="col">Destination Account</th>
        
                                    <th scope="col">Balance</th>
        
                                    <th scope="col">Time</th>
        
                                </tr>
        
                            </thead>
        
                            <tbody>
        
                                <tr *ngFor="let transaction of transactions$ | async">
        
                                    <td>{{ transaction.sourceAccountId }}</td>
                                    <td>{{ transaction.destinationAccountId }}</td>
                                    <td>{{transaction.amount | currency:'INR'}}</td>
                                    <td>{{transaction.transactionDate | date:'longDate'}}</td>
        
                                </tr>
        
                            </tbody>
        
                        </table>
        
        
                    </div>
        
                </div>
            </div>
            <div class="tab-pane fade" id="Accounts" role="tabpanel" aria-labelledby="accounts-tab">
                <div class="card col-5 mt-3 mx-auto p-2">

                    <div class="card-body">
        
                        <h5 class="card-title">Accounts</h5>
        
                        <table class="table">
        
                            <thead>
        
                                <tr>
        
                                    <th scope="col">Account Id</th>
        
                                    <th scope="col">Balance</th>
        
                                    <!-- <th scope="col">Handle</th> -->
        
                                </tr>
        
                            </thead>
        
                            <tbody>
        
                                <tr *ngFor="let account of accounts$ | async">
        
                                    <td>{{account.accountId}}</td>
                                    <td>{{account.balance | currency:'INR'}}</td>
        
        
        
                                    <td> <button class="btn btn-sm btn-outline-primary  "
                                            (click)="viewDetails(account.accountId)">View
                                            Details</button></td>
        
                                </tr>
        
                            </tbody>
        
                        </table>
                    </div>
        
                </div>
            </div>
            <div class="tab-pane fade" id="Users" role="tabpanel" aria-labelledby="users-tab">
                <div *ngIf="this.role==='ADMIN'" class="row mt-5 mx-auto">
    
                    <div class="card col-8 mt-3 mx-auto p-2">
                        <div class="card-body">
                            <h5 class="card-title">Users</h5>
                            <table class="table ">
        
                                <thead>
        
                                    <tr>
        
                                        <th scope="col">User Id</th>
        
                                        <th scope="col">Name</th>
        
                                        <th scope="col">Phone</th>
        
                                        <th scope="col">email</th>
        
                                    </tr>
        
                                </thead>
        
                                <tbody>
        
                                    <tr *ngFor="let user of users$ | async">
        
                                        <td>{{user.userId}}</td>
                                        <td>{{ user.name }}</td>
                                        <td>{{user.phone}}</td>
                                        <td>{{user.email}}</td>
        
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
            <div class="tab-pane fade" id="Loans" role="tabpanel" aria-labelledby="loans-tab">...</div>
          </div>
</main>
